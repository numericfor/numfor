<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NuMFor: Submodule Utils</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="codedark.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NuMFor<span id="projectnumber">&#160;bdbcfa5 (2022-06-20)</span>
   </div>
   <div id="projectbrief">Numerical (Modern) Fortran. Library for Simple Numerical computing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('docutils.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Submodule Utils </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_fiol_Trabajos_fortran_numfor_doc_sources_utils"></a> The module utils defines several objects (types, constants and routines) convenient for common tasks in programming.</p>
<p>It consists of several areas:</p>
<ul>
<li>Basic support (basic types, error handling, timer).<ul>
<li>Definitions for single precision (<code>sp</code>), double precision (<code>dp</code>) kinds</li>
<li>Definition of positive and negative infinite</li>
<li>A timer, with a simple interface</li>
</ul>
</li>
<li>Manipulation of strings is provided in two different "flavors". Both modules provide similar functionality, and where posible they are implemented in the same code. It consists of:<ul>
<li>A framework to work in a "procedural" approach is provided.</li>
<li>An "object-oriented" framework with a new type (<code>fStr()</code>) to represent strings.</li>
</ul>
</li>
</ul>
<h1>General support</h1>
<p>For numerical work we need to use specific minimal precision which is machine-and-compiler-independent. The real type definitions emphatize this. The names are <code>sp</code> and <code>dp</code>, and are chosen only by tradition/historic reasons. For double precision we define types with at least 15 decimal places and exponent range of 307. (see for instance <a href="http://fortranwiki.org/fortran/show/Real+precision">http://fortranwiki.org/fortran/show/Real+precision</a>)</p>
<p>It is convenient for several routines to have a symbol indicating infinite values. We define <code>nf_minf</code> and <code>nf_inf</code> for negative and positive infinite, respectively.</p>
<h1>Constants</h1>
<p>There are defined some commonly used constants (where the definition of "commonly" is quite arbitrary).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Zero   </td><td class="markdownTableBodyNone">0._dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nf_minf   </td><td class="markdownTableBodyNone"><b>-infinite</b>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nf_inf   </td><td class="markdownTableBodyNone"><b>infinite</b>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">C0   </td><td class="markdownTableBodyNone">(0._dp, 0._dp)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C1   </td><td class="markdownTableBodyNone">(1._dp, 0._dp)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CI   </td><td class="markdownTableBodyNone">(0._dp, 1._dp)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_pi   </td><td class="markdownTableBodyNone">3.14159265358979323846264338328_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_dpi   </td><td class="markdownTableBodyNone">6.28318530717958647692528676656_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_pi_2   </td><td class="markdownTableBodyNone">1.57079632679489661923132169164_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_pi_4   </td><td class="markdownTableBodyNone">0.78539816339744830966156608458_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_sqrtpi   </td><td class="markdownTableBodyNone">1.77245385090551602729816748334_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_2_sqrtpi   </td><td class="markdownTableBodyNone">1.12837916709551257389615890312_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_1_pi   </td><td class="markdownTableBodyNone">0.31830988618379067153776752675_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_2_pi   </td><td class="markdownTableBodyNone">0.63661977236758134307553505349_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_lnpi   </td><td class="markdownTableBodyNone">1.14472988584940017414342735135_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_ln2   </td><td class="markdownTableBodyNone">0.693147180559945309417232121458176568_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_e   </td><td class="markdownTableBodyNone">2.71828182845904523536028747135_dp    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">M_log2e   </td><td class="markdownTableBodyNone">1.442695040888963407359924681001892137_dp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">M_log10e   </td><td class="markdownTableBodyNone">0.43429448190325182765112891892_dp   </td></tr>
</table>
<p>There are also defined many <a class="el" href="physconst.html">Physical constants</a>, which are mostly those defined in <a href="https://docs.scipy.org/doc/scipy/reference/constants.html">scipy.constants</a>.</p>
<h1>Simple Timing</h1>
<p>We implemented a simple timer that may be use by calling the methods <code>start()</code>, <code>stop()</code> and <code>show()</code>, as shown in the following example:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> ex_timer</div>
<div class="line">  <span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: dp, timer</div>
<div class="line">  <span class="keywordtype">implicit none</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">integer</span>, <span class="keywordtype">parameter</span> :: N = 100000</div>
<div class="line"><span class="keywordtype">  real</span>(dp), <span class="keywordtype">dimension(N)</span> :: a, b, c</div>
<div class="line">  <span class="keywordtype">integer</span> :: i, j</div>
<div class="line">  <span class="keywordtype">type</span>(timer) T1</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">call </span>t1%start()               <span class="comment">! Start the timer</span></div>
<div class="line">  <span class="comment">! ---- Do your operations ....</span></div>
<div class="line">  a = 1._dp</div>
<div class="line">  c = 0</div>
<div class="line">  <span class="keywordflow">do</span> j = 1, 2</div>
<div class="line">    <span class="keywordflow">do</span> i = 1, n</div>
<div class="line">      b(i) = (-1)**i * a(i)</div>
<div class="line"><span class="keywordflow">    end do</span></div>
<div class="line">    <span class="keywordflow">do</span> i = 1, n</div>
<div class="line">      c = c + b(i)</div>
<div class="line"><span class="keywordflow">    end do</span></div>
<div class="line">    c = -c</div>
<div class="line"><span class="keywordflow">  end do</span></div>
<div class="line">  <span class="comment">! -----------------------------</span></div>
<div class="line">  <span class="keyword">call </span>t1%stop()                <span class="comment">! Stop the timer</span></div>
<div class="line">  <span class="keyword">call </span>t1%show()                <span class="comment">! Show the results</span></div>
<div class="line"><span class="keyword">end program </span>ex_timer</div>
<div class="line"> </div>
</div><!-- fragment --><p>Prints: </p><div class="fragment"><div class="line">cpu time:   7.77s</div>
<div class="line">Total time: 7 s 801ms </div>
</div><!-- fragment --><h1>Warning and error messages</h1>
<p>There is currently only one routine implemented for warning and error messages, <a class="el" href="namespacebasic.html#a984198f5a2caf255ca9e50c4abb2fbb0">print_msg()</a>, that may be called to produce informative results to <code>stdout</code> or an alternative place (usually an already opened file), and optionally stop the program if the error code is positive.</p>
<p>For instance,</p>
<div class="fragment"><div class="line"><span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: print_msg</div>
<div class="line"><span class="comment">! Do something ...</span></div>
<div class="line"><span class="comment">! and after an unexpected result</span></div>
<div class="line"><span class="keyword">call </span>print_msg(<span class="stringliteral">&quot;Result outside of expected range!&quot;</span>) </div>
</div><!-- fragment --><p> will print the message and keep the program running, while </p><div class="fragment"><div class="line"><span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: print_msg</div>
<div class="line"><span class="keyword">call </span>print_msg(<span class="stringliteral">&quot;Invalid argument&quot;</span>, <span class="stringliteral">&quot;my-routine&quot;</span>, 1) </div>
</div><!-- fragment --><p> will print the message, the routine and stop the program with error code 1.</p>
<h1>Strings</h1>
<p>The module strings provides routines for string manipulation. It provides some functionality similar to that available to Python strings:</p>
<ul>
<li><a class="el" href="interfacestrings_1_1str.html">str()</a>: Cast numbers to strings</li>
</ul>
<p>There are several functions that act similarly to Python string methods:</p>
<ul>
<li><a class="el" href="namespacestrings.html#a3dcd79b542af88d2be01e0dce440fc73">upper()</a>: Converts a string to uppercase</li>
<li><a class="el" href="namespacestrings.html#a333b5b0bbad13dbf1e1b52bdc397d4ea">lower()</a>: Converts a string to lowercase</li>
<li><a class="el" href="namespacestrings.html#a92564d2fa1c29e430e11302e002a0943">swapcase()</a>: Swap cases: (lower -&gt; upper) and (upper -&gt; lower)</li>
<li><a class="el" href="namespacestrings.html#a5855c45a2f5ae5e75877e954f2735b25">reverse()</a>: Reverses a string "abc" -&gt; "cba"</li>
<li><a class="el" href="namespacestrings.html#ac103665cb0dfb8b01f98045cada5b970">endswith()</a>: Test wheter a string ends with a given suffix</li>
<li><a class="el" href="namespacestrings.html#a2d15c6ae6c38ba56f69544ecb09fa3be">startswith()</a>: Test wheter a string starts with a given prefix</li>
<li><a class="el" href="namespacestrings.html#a9055b50266886e19f01caa817b734bcf">lstrip()</a>: Removes leading characters of a string</li>
<li><a class="el" href="namespacestrings.html#a6b4f975d44955da057bef5e5f06481c2">rstrip()</a>: Removes trailing characters of a string</li>
<li><a class="el" href="namespacestrings.html#a20de69000aabc829d940dcc9a3926cef">strip()</a>: Removes leading and trailing characters of a string</li>
<li><a class="el" href="namespacestrings.html#a350e52ca196b59030a86f0ffbdc91fd3">count_sub()</a> Counts how many times a substring is in a string</li>
<li><a class="el" href="namespacestrings.html#a075c828fb736d66f51609cb770d73bbe">find()</a>: Finds a substring in a string</li>
<li><a class="el" href="namespacestrings.html#a466ce44ebd7460cb3d8025dfc8c2a810">issub()</a>: Test whether a substring is in a string</li>
<li><a class="el" href="namespacestrings.html#a350e52ca196b59030a86f0ffbdc91fd3">count_sub()</a>: Counts the number of occurrences of a substring in a string</li>
<li><a class="el" href="namespacestrings.html#a9055b50266886e19f01caa817b734bcf">lstrip()</a>: Removes leading chars in a string</li>
<li><a class="el" href="namespacestrings.html#a6b4f975d44955da057bef5e5f06481c2">rstrip()</a>: Removes trailing chars in a string</li>
<li><a class="el" href="namespacestrings.html#a20de69000aabc829d940dcc9a3926cef">strip()</a>: Removes leading and trailing chars in a string</li>
<li><a class="el" href="namespacestrings.html#a063eb86e3ac603b65848348b9301c4c4">ljust()</a>: Left-padds a string with a char</li>
<li><a class="el" href="namespacestrings.html#a73dd71c84015592850d2fdd8df71e119">rjust()</a>: Right-padds a string with a char</li>
<li><a class="el" href="namespacestrings.html#a5510a50c9f1f76cf4041e81206474612">zfill()</a>: Padds with zeroes a string</li>
<li><a class="el" href="namespacestrings.html#a41f456d9db8ba7c6f82179ca5808d2c5">center()</a>: Centers a string in a line</li>
<li><a class="el" href="namespacestrings.html#a075c828fb736d66f51609cb770d73bbe">find()</a>: Finds a substring in a string</li>
<li><a class="el" href="namespacestrings.html#a8c96783c8ae4147604c68e773638b7a6">replace()</a>: Replaces a substring with other in a string</li>
</ul>
<h2><a class="anchor" id="examplestrings"></a>Examples of use</h2>
<h3><a class="anchor" id="ex_strings1"></a>A simple example</h3>
<p>This is a very simple example, of how to create (output) filenames from the parameters of our problem, showcasing only a few functions.</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> example_strings1</div>
<div class="line">  <span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: str, lower, center</div>
<div class="line">  <span class="keywordtype">implicit none</span></div>
<div class="line">  <span class="keywordtype">character(len=1024)</span> :: dir</div>
<div class="line">  <span class="keywordtype">character(len=:)</span>, <span class="keywordtype">allocatable</span> :: rfname</div>
<div class="line">  <span class="keywordtype">character(len=:)</span>, <span class="keywordtype">allocatable</span> :: output</div>
<div class="line">  <span class="keywordtype">character(len=:)</span>, <span class="keywordtype">allocatable</span> :: title</div>
<div class="line"><span class="keywordtype">  real</span>(8) :: param1</div>
<div class="line"><span class="keywordtype">  real</span>(8) :: param2</div>
<div class="line">  <span class="keywordtype">integer</span> :: param3</div>
<div class="line">  <span class="keywordtype">integer</span>, <span class="keywordtype">parameter</span> :: Nmax = 5</div>
<div class="line">  <span class="keywordtype">integer</span> :: cnt</div>
<div class="line">  <span class="keywordtype">integer</span> :: width</div>
<div class="line"> </div>
<div class="line">  print *, <span class="stringliteral">&#39;Enter directory name&#39;</span></div>
<div class="line">  <span class="comment">! We can just set the output folder it</span></div>
<div class="line">  <span class="comment">! dir = &#39;out&#39;</span></div>
<div class="line">  <span class="comment">! Or we could read the path from standard input.</span></div>
<div class="line">  <span class="keyword">read</span> (*, <span class="stringliteral">&#39;(A)&#39;</span>) dir</div>
<div class="line"> </div>
<div class="line">  dir = trim(dir)//<span class="stringliteral">&#39;/&#39;</span>          <span class="comment">! Add separator</span></div>
<div class="line"> </div>
<div class="line">  width = 40 + len(trim(dir))   <span class="comment">! Used for centering</span></div>
<div class="line">  title = <span class="stringliteral">&#39; These will the files created: &#39;</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">! Set some parameters</span></div>
<div class="line">  param1 = 1.3_8</div>
<div class="line">  param2 = 0.07_8</div>
<div class="line">  param3 = 42</div>
<div class="line"> </div>
<div class="line">  <span class="comment">! rfname holds the root of the filename</span></div>
<div class="line">  rfname = <span class="stringliteral">&quot;out&quot;</span>//str(param1)//<span class="stringliteral">&#39;cm&#39;</span>//str(param3)//<span class="stringliteral">&#39;eV_&#39;</span></div>
<div class="line">  print *, <span class="stringliteral">&#39;&#39;</span></div>
<div class="line">  print <span class="stringliteral">&#39;(A)&#39;</span>, center(title, width, <span class="stringliteral">&#39;=&#39;</span>)</div>
<div class="line">  <span class="keywordflow">do</span> cnt = 1, nmax</div>
<div class="line">    <span class="comment">! Create full filename</span></div>
<div class="line">    <span class="comment">! Here we have to use trim because dir is of fixed length</span></div>
<div class="line">    output = lower(trim(dir))//rfname//str(cnt)//<span class="stringliteral">&#39;.dat&#39;</span></div>
<div class="line">    print <span class="stringliteral">&#39;(A)&#39;</span>, center(output, width)</div>
<div class="line"><span class="keywordflow">  end do</span></div>
<div class="line"><span class="keyword">end program </span>example_strings1</div>
</div><!-- fragment --><p>Note here the use of <a class="el" href="namespacestrings.html#a20de69000aabc829d940dcc9a3926cef">strip()</a> refers to the above function.</p>
<p>After compiling and executing: Output for a very long directory name: </p><div class="fragment"><div class="line"> Enter directory name</div>
<div class="line"> </div>
<div class="line">VeryLongDirectoryNamewithCamelCaseName</div>
<div class="line"> </div>
<div class="line">========================= These will the files created:========================</div>
<div class="line">           verylongdirectorynamewithcamelcasename/out1.3cm42eV_1.dat</div>
<div class="line">           verylongdirectorynamewithcamelcasename/out1.3cm42eV_2.dat</div>
<div class="line">           verylongdirectorynamewithcamelcasename/out1.3cm42eV_3.dat</div>
<div class="line">           verylongdirectorynamewithcamelcasename/out1.3cm42eV_4.dat</div>
<div class="line">           verylongdirectorynamewithcamelcasename/out1.3cm42eV_5.dat</div>
</div><!-- fragment --><p>while for a short directory name the output is:</p>
<div class="fragment"><div class="line"> Enter directory name</div>
<div class="line">dd</div>
<div class="line"> </div>
<div class="line">======= These will the files created:======</div>
<div class="line">           dd/out1.3cm42eV_1.dat</div>
<div class="line">           dd/out1.3cm42eV_2.dat</div>
<div class="line">           dd/out1.3cm42eV_3.dat</div>
<div class="line">           dd/out1.3cm42eV_4.dat</div>
<div class="line">           dd/out1.3cm42eV_5.dat</div>
</div><!-- fragment --><h1>Object oriented strings fstring</h1>
<p>This module provides an object-oriented version of the module <code>strings</code>, with functionality similar to that available to Python strings:</p><ul>
<li><code>fStr()</code>: Create type and also cast numbers to strings (of type <code>fStr</code>)</li>
<li>Strings may be read and write with default format</li>
<li>Multiplication by integers produce repetition</li>
<li>They can be compared for equality (or not)</li>
</ul>
<p>The use of this module is rather simple: we define a variable of the type <code>fStr</code>, and then use its methods.</p>
<h2><a class="anchor" id="examplefstring"></a>Examples of use</h2>
<p>A minimal example would be simply:</p>
<div class="fragment"><div class="line"><span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: fstr</div>
<div class="line"><span class="keywordtype">type</span>(fStr) :: s1</div>
<div class="line"><span class="keywordtype">type</span>(fStr) :: s2</div>
<div class="line">s1 = <span class="stringliteral">&#39;     Variable s1 =    &#39;</span></div>
<div class="line">s2 = fstr(1.2123)</div>
<div class="line">print *, <span class="stringliteral">&#39;The &#39;</span>//s1%strip(<span class="stringliteral">&#39; =&#39;</span>)//<span class="stringliteral">&#39; value is &#39;</span> // s2</div>
</div><!-- fragment --><p>which outputs:</p>
<div class="fragment"><div class="line">&quot;The Variable s1 value is 1.21229994&quot;</div>
</div><!-- fragment --><p>Note here that the method <code>strip()</code> removes all leading and trailing spaces <b>and</b> occurrences of the equal symbol <code>"="</code>.</p>
<h3><a class="anchor" id="ex_fstring1"></a>A simple example</h3>
<p>The Object Oriented version of examples presented in <code>strings</code> (<a class="el" href="docutils.html#ex_strings1">ex_strings1</a>) has a very similar form:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> example_fstring1</div>
<div class="line">  <span class="keywordtype">USE </span>numfor, <span class="keywordtype">only</span>: fstr, len</div>
<div class="line">  <span class="keywordtype">implicit none</span></div>
<div class="line">  <span class="keywordtype">type</span>(fStr) :: dir</div>
<div class="line">  <span class="keywordtype">type</span>(fStr) :: rfname</div>
<div class="line">  <span class="keywordtype">type</span>(fStr) :: output</div>
<div class="line">  <span class="keywordtype">type</span>(fStr) :: title</div>
<div class="line"><span class="keywordtype">  real</span>(8) :: param1</div>
<div class="line"><span class="keywordtype">  real</span>(8) :: param2</div>
<div class="line">  <span class="keywordtype">integer</span> :: param3</div>
<div class="line">  <span class="keywordtype">integer</span>, <span class="keywordtype">parameter</span> :: Nmax = 5</div>
<div class="line">  <span class="keywordtype">integer</span> :: cnt</div>
<div class="line">  <span class="keywordtype">integer</span> :: width</div>
<div class="line"> </div>
<div class="line">  print *, <span class="stringliteral">&#39;Enter directory name&#39;</span></div>
<div class="line">  <span class="comment">! We can just set the output folder it</span></div>
<div class="line">  <span class="comment">! dir = &#39;out&#39;</span></div>
<div class="line">  <span class="comment">! Or we could read the path from standard input.</span></div>
<div class="line">  <span class="keyword">read</span> (*, *) dir</div>
<div class="line">  dir = dir//<span class="stringliteral">&#39;/&#39;</span>                <span class="comment">! Add separator</span></div>
<div class="line"> </div>
<div class="line">  width = 30 + len(dir)         <span class="comment">! Used for centering</span></div>
<div class="line">  title = <span class="stringliteral">&#39; These will be the files created: &#39;</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">! Set some parameters</span></div>
<div class="line">  param1 = 1.3_8</div>
<div class="line">  param2 = 0.07_8</div>
<div class="line">  param3 = 42</div>
<div class="line"> </div>
<div class="line">  <span class="comment">! rfname holds the root of the filename</span></div>
<div class="line">  rfname = <span class="stringliteral">&quot;out&quot;</span>//fstr(param1)//<span class="stringliteral">&#39;cm&#39;</span>//fstr(param3)//<span class="stringliteral">&#39;eV_&#39;</span></div>
<div class="line">  print *, <span class="stringliteral">&#39;&#39;</span></div>
<div class="line">  print *, dir%lower()</div>
<div class="line">  print *, title%center(width, <span class="stringliteral">&#39;=&#39;</span>)</div>
<div class="line">  <span class="keywordflow">do</span> cnt = 1, nmax</div>
<div class="line">    <span class="comment">! Create full filename</span></div>
<div class="line">    <span class="comment">! Here we have to use trim because dir is of fixed length</span></div>
<div class="line">    output = dir%lower()//rfname//fstr(cnt)//<span class="stringliteral">&#39;.dat&#39;</span></div>
<div class="line">    print *, output%center(width)</div>
<div class="line"><span class="keywordflow">  end do</span></div>
<div class="line"><span class="keyword">end program </span>example_fstring1</div>
</div><!-- fragment --><p>which, after compiling and executing, gives exactly the same result that <a class="el" href="docutils.html#ex_strings1">ex_strings1</a> from module <code>strings</code> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Numeric Modern Fortran</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
